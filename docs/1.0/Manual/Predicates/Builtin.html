

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Built-in predicate checkers &mdash; repoze.what v1.0.9 documentation</title>
    <link rel="stylesheet" href="../../_static/repoze.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0.9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="repoze.what v1.0.9 documentation" href="../../index.html" />
    <link rel="up" title="Controlling access with predicates" href="index.html" />
    <link rel="next" title="Evaluating your predicates" href="Evaluating.html" />
    <link rel="prev" title="Controlling access with predicates" href="index.html" />
 
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-22669445-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="Evaluating.html" title="Evaluating your predicates"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Controlling access with predicates"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">repoze.what v1.0.9 documentation</a> &raquo;</li>
          <li><a href="../index.html" >The <tt class="docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal"><span class="pre">repoze.what</span></tt> Manual</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Controlling access with predicates</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-repoze.what.predicates">
<span id="built-in-predicate-checkers"></span><h1>Built-in predicate checkers<a class="headerlink" href="#module-repoze.what.predicates" title="Permalink to this headline">¶</a></h1>
<p>These are the predicate checkers that are included with <a class="reference internal" href="../../index.html#module-repoze.what" title="repoze.what: Authorization framework for WSGI applications"><tt class="xref py py-mod docutils literal"><span class="pre">repoze.what</span></tt></a>:</p>
<div class="section" id="the-base-predicate-class">
<h2>The base <a class="reference internal" href="#repoze.what.predicates.Predicate" title="repoze.what.predicates.Predicate"><tt class="xref py py-class docutils literal"><span class="pre">Predicate</span></tt></a> class<a class="headerlink" href="#the-base-predicate-class" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="#repoze.what.predicates.Predicate" title="repoze.what.predicates.Predicate"><tt class="xref py py-class docutils literal"><span class="pre">Predicate</span></tt></a> is the parent class of every predicate checker and its API
is described below:</p>
<dl class="class">
<dt id="repoze.what.predicates.Predicate">
<em class="property">class </em><tt class="descclassname">repoze.what.predicates.</tt><tt class="descname">Predicate</tt><a class="headerlink" href="#repoze.what.predicates.Predicate" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic predicate checker.</p>
<p>This is the base predicate class. It won&#8217;t do anything useful for you, 
unless you subclass it.</p>
<dl class="attribute">
<dt id="repoze.what.predicates.Predicate.__init__">
<tt class="descname">__init__</tt><a class="headerlink" href="#repoze.what.predicates.Predicate.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>x.__init__(...) initializes x; see x.__class__.__doc__ for signature</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="single-predicate-checkers">
<h2>Single predicate checkers<a class="headerlink" href="#single-predicate-checkers" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="repoze.what.predicates.Not">
<em class="property">class </em><tt class="descclassname">repoze.what.predicates.</tt><tt class="descname">Not</tt><big>(</big><em>predicate</em><big>)</big><a class="headerlink" href="#repoze.what.predicates.Not" title="Permalink to this definition">¶</a></dt>
<dd><p>Negate the specified predicate.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>predicate</strong> &#8211; The predicate to be negated.</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># The user *must* be anonymous:</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Not</span><span class="p">(</span><span class="n">NotAnonymous</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="compound-predicate-checkers">
<h2>Compound predicate checkers<a class="headerlink" href="#compound-predicate-checkers" title="Permalink to this headline">¶</a></h2>
<p>You may create a <cite>compound predicate</cite> by aggregating single (or even compound)
predicate checkers with the functions below:</p>
<dl class="class">
<dt id="repoze.what.predicates.All">
<em class="property">class </em><tt class="descclassname">repoze.what.predicates.</tt><tt class="descname">All</tt><big>(</big><em>*predicates</em><big>)</big><a class="headerlink" href="#repoze.what.predicates.All" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that all of the specified predicates are met.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>predicates</strong> &#8211; All of the predicates that must be met.</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Grant access if the current month is July and the user belongs to</span>
<span class="c"># the human resources group.</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">All</span><span class="p">(</span><span class="n">IsMonth</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="n">InGroup</span><span class="p">(</span><span class="s">&#39;hr&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>This predicate is met when all the inner predicates are met, unmet when at
least one of them is unmet and indeterminate for the rest of the situation.</p>
</dd></dl>

<dl class="class">
<dt id="repoze.what.predicates.Any">
<em class="property">class </em><tt class="descclassname">repoze.what.predicates.</tt><tt class="descname">Any</tt><big>(</big><em>*predicates</em><big>)</big><a class="headerlink" href="#repoze.what.predicates.Any" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that at least one of the specified predicates is met.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>predicates</strong> &#8211; Any of the predicates that must be met.</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Grant access if the currest user is Richard Stallman or Linus</span>
<span class="c"># Torvalds.</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Any</span><span class="p">(</span><span class="n">IsUser</span><span class="p">(</span><span class="s">&quot;rms&quot;</span><span class="p">),</span> <span class="n">IsUser</span><span class="p">(</span><span class="s">&quot;linus&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>This predicate is met when at least one of the inner predicates is met and
unmet when all of the inner predicates are unmet. If none of the predicates
are met and also there&#8217;s at least one indeterminate predicate, this
predicate is indeterminate.</p>
</dd></dl>

<p>But you can also nest compound predicates:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">p</span> <span class="o">=</span> <span class="n">All</span><span class="p">(</span><span class="n">Any</span><span class="p">(</span><span class="n">is_month</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">is_month</span><span class="p">(</span><span class="mi">10</span><span class="p">)),</span> <span class="n">has_permission</span><span class="p">(</span><span class="s">&#39;release&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>Which may be translated as &#8220;Anyone granted the &#8216;release&#8217; permission may release
a version of Ubuntu, if and only if it&#8217;s April or October&#8221;.</p>
</div>
<div class="section" id="predicate-errors">
<h2>Predicate errors<a class="headerlink" href="#predicate-errors" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo_hi.gif" alt="Logo"/>
            </a></p>
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Built-in predicate checkers</a><ul>
<li><a class="reference internal" href="#the-base-predicate-class">The base <tt class="docutils literal"><span class="pre">Predicate</span></tt> class</a></li>
<li><a class="reference internal" href="#single-predicate-checkers">Single predicate checkers</a></li>
<li><a class="reference internal" href="#compound-predicate-checkers">Compound predicate checkers</a></li>
<li><a class="reference internal" href="#predicate-errors">Predicate errors</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Controlling access with predicates</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Evaluating.html"
                        title="next chapter">Evaluating your predicates</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/Manual/Predicates/Builtin.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="Evaluating.html" title="Evaluating your predicates"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Controlling access with predicates"
             >previous</a> |</li>
        <li><a href="../../index.html">repoze.what v1.0.9 documentation</a> &raquo;</li>
          <li><a href="../index.html" >The <tt class="docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal"><span class="pre">repoze.what</span></tt> Manual</a> &raquo;</li>
          <li><a href="index.html" >Controlling access with predicates</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008, The Repoze Project.
      Last updated on Apr 11, 2011.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>